한국정보보호센터 홈페이지 ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.001.png)취약점 진단 결과 보고서 ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.002.png)

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.003.png)

2023\.10.31 

한국정보보호센터 홈페이지 취약점 진단 보고서 ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.004.png)

–  목차  – 

**Ⅰ. 개요 ------------------------------------------------------------------------------------------------------------- 3** 

**1.  모의해킹 정의 --------------------------------------------------------------------------------------------3** 

**Ⅱ. 세부 수행 내용 ----------------------------------------------------------------------------------------------- 3** 

1. **수행 절차 및 방법 -------------------------------------------------------------------------------------- 3** 
1. **수행 일정/ 수행인원 ----------------------------------------------------------------------------------- 4** 
1. **수행 대상 ------------------------------------------------------------------------------------------------- 4** 
1. **수행 환경 및 도구 -------------------------------------------------------------------------------------- 4** 

**Ⅲ. 취약점 진단 항목 및 평가기준 ---------------------------------------------------------------------------- 5** 

1. **진단 항목 ------------------------------------------------------------------------------------------------- 5** 
1. **평가 기준 ------------------------------------------------------------------------------------------------- 5** 

   **2.1 취약점 위험도 -------------------------------------------------------------------------------------- 6** 

**Ⅳ. 진단 결과 ------------------------------------------------------------------------------------------------------ 6** 

**1.  진단결과 요약 ------------------------------------------------------------------------------------------- 6** 

V **. 상세 설명 ------------------------------------------------------------------------------------------------------- 7** 

1. **불충분한 인가 ------------------------------------------------------------------------------------------- 7** 
1. **불충분한 인증 ------------------------------------------------------------------------------------------- 9** 
1. **약한 문자열 강도 -------------------------------------------------------------------------------------- 10** 
4. **버퍼 오버플로우 --------------------------------------------------------------------------------------- 11** 
4. **SQL Injection ----------------------------------------------------------------------------------------- 12** 
4. **크로스 사이트 스크립팅 (XSS)  ------------------------------------------------------------------- 16** 
4. **디렉터리 인덱싱 --------------------------------------------------------------------------------------- 18** 
4. **파일 다운로드 취약점 -------------------------------------------------------------------------------- 19** 
4. **불충분한 세션 만료  ---------------------------------------------------------------------------------- 20** 
4. **자동화 공격  -------------------------------------------------------------------------------------------- 21** 

Ⅰ. 개요 ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.005.png)

1\.1 모의해킹 정의 ![ref1]

본 모의해킹은 한국정보보호센터 홈페이지와 관련된 모든 정보 자산에 대한 취약점을 도출/분석하여 대책을 수립하기 위함입니다. 해커와 동일한 환경과 조건, Hacking Skill을 가지고 모의적인 침투에 의해 이루어지며, 발견된 취약점에 대해서는 사전적인 예방을 통한 효과를 발생시키는데 목적이 있습니다. 

Ⅱ. 세부 수행 내용 ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.007.png)

1. 수행절차 및 방법 ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.008.png)

본 모의 해킹은 아래 단계별로 정보수집부터 결과 보고서까지의 과정 순서로 진행이 됩니다. 



|<p>정보수집 (Information ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.009.png)</p><p>Gathering) </p>|<p>취약점 수집 (Vulnerability ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.010.png)</p><p>Assessment) </p>|<p>![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.011.png)</p><p>침투 단계 (Gaining </p><p>Access) </p>|<p>상세 분석 (Maintaining ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.012.png)</p><p>Access) </p>|<p>![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.013.png)</p><p>보고서 작성 (Report) </p>|
| :- | - | - | :- | - |

[그림 2-1] 모의해킹 과정 각 단계별 수행에 대한 간략한 내용은 아래와 같습니다. 



|수행 단계 |설명 |
| - | - |
|정보수집 |대상에 대한 서버/네트워크/서비스에 대한 불필요한 서비스 접근 가능성, 외부에서 파악할 수 있는 정보들을 수집하는 단계 |
|취수약집점 |각 네트워크 구간별로 적합한 취약점 스캔 도구를 이용하여 발생할 수 있는 취약점에 대한 정보를 수집하는 단계 (단, 네트워크 장비/서비스에 장애를 유발할 수 있는 경우에는 제외 |
|침투 단계 |취약점 수집 단계를 통해 획득한 정보를 기반으로 수동점검(Manual)을 통해 내부 시스템까지 침투할 가능성이 있는지 시나리오 기반으로 접근하는 단계 |
|상세 분석 |취약점이 도출 되었을 경우에 공격에 의해서 보안 위협이 시스템 및 비즈니스 |



||측면에서 어느정도의 영향을 줄 수 있는지 분석하는 단계 |
| :- | - |
|보작고성서 |도출된 취약점에 대한 총평/영향도/상세분석/보안가이드가 포함된 보고서를 작성하는단계 |

[표 2-1] 모의해킹 수행 단계 

2. 수행일정 / 수행인원 ![ref2]

본 모의해킹은 2023년 10월 25일부터 ~ 2023년 10월 31일까지 총 5일간 진행이 되며, 팀장 장예지 외 5명이 투입됩니다. Task 별 자세한 일정한 아래 표와 같습니다. 



|10월 25일 (수) |10월 26일(목) |10월 27일 (금) |10월 30일 (월) |10월 31(화) |
| - | - | - | - | - |
|프로젝트 수행계획서 수립 |체크작리성스트 |위협분석 |위험 조치 방안 |보최고종서결작과성 |

[표 2-2] 모의해킹 진단 일정 

3. 수행 대상 ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.015.png)

본 모의해킹은 아래 대상을 전달받았으며, Task별로 해당 대상에 대해 점검이 이루어집니다. 



|구분 (Task) |대상 도메인 |대상 IP 정보 |서비스 |
| - | - | - | - |
|외부 모의해킹 |- |61\.39.155.24:50019 |한국정보보호센터 웹 서비스 |

[표 2-3] 모의해킹 수행 범위 

4. 수행 환경 및 도구 ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.016.png)

본 모의해킹을 수행하면서 사용된 도구는 아래와 같습니다. 



|도구 이름 |사이트 |용도 |
| - | - | - |
|Burp Suite |https://portswigger.net/burp |프록시 도구 |
|SQLMAP |[http://61.39.155.24:50019/kisec/data](http://61.39.155.24:50019/kisec/dataRoom/notice.html) [Room/notice.html](http://61.39.155.24:50019/kisec/dataRoom/notice.html) |오픈 소스 보안 검사 도구 |

[표 2-4] 취약점 진단 도구 목록 

Ⅲ. 취약점 진단 항목 및 평가기준 ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.017.png)

1. 진단 항목 ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.018.png)

OWASP TOP 10, CWE/SANS TOP25, 주요정보통신기반시설 기술적 취약점 분석 평가 상세 가이드의 웹 진단 항목들을 준용하여 아래와 같이 취약점들을 선정하여 수행합니다. 



|**순번** |**분류** |**진단 항목** |
| - | - | - |
|1 |불충분한 인가 |민감한 기능 또는 기능에 접근 및 수정 시 통제 여부  점검 |
|2 |불충분한 인증 |중요 페이지 접근 시 추가 인증 요구 여부 점검 |
|3 |약한 문자열 강도 |웹페이지 내 로그인 폼 등에 약한 강도의 문자열 사용 여부 점검 |
|4 |버퍼 오버플로우 |사용자가 입력한 파라미터 값의 문자열 길이 제한 확인 |
|5 |SQL Injection |웹 페이지 내 SQL 인젝션 취약점 존재 여부 점검 |
|||웹 관리자 페이지  ID와 PW 탈취 |
|6 |스크크로립스팅사(X이S트S)  |웹페이지 내 XSS 취약점 존재 여부 점검 |
|7 |디렉터리 인덱싱 |디렉터리 인덱싱 여부 |
|8 |파일취다약운점로드 |웹접근사이이트가에능서한지파일여부다운점로검드한다시. 허용된 경로 외 다른 경로의 파일 |
|9 |불충분한 세션만료 |세션의 만료 기간 설정 여부를 점검한다 |
|10 |자동화 공격 |웹 애플리케이션의 특정 프로세스 (로그인 시도, 게시글 등록, SMS 발송 등) 에 대한 반복적인 요청 시 통제 여부 확인 |

[표 3-1] 취약점 진단 방법론 

2. 평가기준 ![ref2]

**3.2.1. 취약점 위험도** 

취약점 위험도를 총 5가지(VH, H, M, L ,VL)로 취약점을 분류함으로써 외부/내부 서비스 침투 여부 및 정보 노출 대응을 위해 아래와 같은 기준으로 나누어 평가하게되었습니다. 



|위험도 |설명 |
| - | - |
|매우 높음(VH) |<p>외부 노출 된 서비스를 통해 내부 네트워크 대역에 침투가 가능하여 개인 정보 및 사내 주요 정보들이 외부에 노출될 위험성이 높은것. </p><p>시스템 관리자 권한 획득으로 인한 시스템에 심각한 영향을 발생하여 비즈니스적인 큰 피해를 줄 위험성이 높은 것 </p>|
|높음(H) |시가스능템성에이일적부음심각한 영향이 발생하나 2차적인 피해 발생이 이루어질 |
|중간(M) |외환부경에노서출만된노서출비스를 통해 시스템 정보 및 중요 정보가 제한된 |
|낮음(L) |추가적인 공격 가능성을 줄 수 있는 정보 노출 |
|매우 낮음(VL) |서비스에 영향을 미치지 않고 일부 불필요한 정보가 노출 |

[표 3-2] 영향도 평가 기준 

Ⅳ. 진단 결과 ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.019.png)

4\.1 진단 결과 요약 ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.020.png)



|**페이지** |**취약점** |**요약** |
| - | - | - |
|로그인 |불충분한 인증 |로페그이인지을에하추고가나적서인중인요증(정2차보인(개증인) 또정는보인변증경이) 필요한 곳에 추가적인 검증을 하지 않음. |
||약한 문자열 강도 |계않정아정로지그/인금지창에에서대한비번횟을수3제~5한회이정설도정틀되렸어음있에지도 제한이 걸리지 않음. |
||버퍼 오버플로우 |로입그력인했을화면때에로인그가인된이계성정공말됨고. 대량의 문자열을 |
|회원 정보 |불충분한 인가 |접근제어가 필요한 중요 페이지에 셔션을 통한 인증 등 통제수단을 구현하지 않아 burp suite로 인해 다른 계정 ID의 PW가 바뀌게 됨. |
|문의 |SQL Injection |SQL 쿼리문을 이용하여 1대1 문의에서 파라미터  idx 값 뒤에 쿼리문  '+and+'1’=’1 입력하여 게시글 수정. 이에 따라 해당 사이트는 SQL 쿼리 입력에 대한 검증이 이루어지지 않는다는 것을 발견. |



|커뮤니티 |디렉터리 인덱싱 |<p>b첫u번rp째su줄ite 를GE이T/용\_c하or여e 경파로일로다들운어로간드다한는결것과을 인지하게 됨. 노출된 경로 \_core를 이용하여 </p><p>http://61.39.155.24:50019/\_core로 접속한 결과 관리자 사이트를 발견. </p>|
| - | - | :- |
||파일 다운로드 취약점 |게도시구판를에이업용로하드여한파파일일의을저다장운경로로드를시알b아ur내p s어u ite 관리자사이트 경로를 알아낼 수 있음 |
||SQL Injection |S받Q는L다In면jecstiqolnm을ap이을용사하용여하, 여문 자DB열정값보을값G을E알T방아식낸을 토대로 관리자 ID,PW를 알아냄. |
||스크크로립스트사(X이S트S)  |검경색고창창에을서띄<움s cript>alert(1)</script>를 검색하여 |
|나의 강의실 |불충분한 세션 만료 |세션 만료시간을 정하지 않아 아무런 동작이 없을 때 2-3시간 이후에도 세션이 파기되지 않아 여전히 사용할 수 있음 |
||자동화 공격 |게시판에서 같은 내용의 게시글을 여러번 등록 하는 경우 또는 틀린 패스워드로 재 로그인 시도 시 아무런 제한이 없는 것을 확인 |

[표 4-1] 서비스 별 발생 취약점 요약 

V . 상세 설명 ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.021.png)

1. 불충분한 인가 ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.022.png)

5\.1.1. 취약점 개념 설명 

불충분한 인가(Insufficient Authorization)는 정보 시스템이나 소프트웨어에서 발생하는 보안 취약점 중 하나입니다.  인증된 사용자나 시스템이 특정 자원에 대한 충분한 권한을 가지고 있지 않을 때 발생합니다. 다시 말해, 이 취약점은 사용자나 시스템이 필요한 작업을 수행하기 위한 적절한 권한이나 규칙을 가지고 있지 않을 때 발생하는 취약점입니다. 

5\.1.2.취약점 점검 

|서비스 위치 |[HOME]  -> [마이페이지]  -> [회원정보수정] |
| - | - |
|서비스 URL |http://61.39.155.24:50019/kisec/mypage/mypage\_m\_update.html |

불충분한 인가 취약점을 점검하기 위해 계정(admin1, admin2)을 2개를 만들어 계정 1에 로그인을 하여 회원정보 수정에 들어가서 비밀번호를 재설정합니다. 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.023.png)

burp suite를 킨 상태에서 개인정보수정을 눌러 웹브라우저에서 서버로 보내는 패킷정보를 중간에 가로채어 계정 [admin1@kisec.co](mailto:admin1@kisec.com)m을 계정 <admin2@kisec.com>으로 변경해줍니다. \* 기존 <admin1@kisec.com>의 비번이 바뀌어야했지만 burp suite로  인해 <admin2@kisec.com> 계정의 비번이 바뀌게됩니다. 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.024.png)

다시 로그인창으로 돌아와 admin2@kisec.com ID와 PW를 쳐서 로그인이 잘되는지 확인합니다. 

5\.1.3 대응방안 

- 서버 사이드 스크립트 검증 절차를 통해 변조되는 것을 막음 
- 인증 / 권한에 대해 신원을 확인하고 권한을 부여하고 사용자가 접근할 수 있는 리소스를 

적절히 제한 

- 보안 패치 및 업데이트를 통해서 서버 측 스크립트를 실행하는 환경(웹서버, 

데이터베이스)이 최신상태인지 확인 또는 유지 

- 서버 동작을 모니터링을 하고, 이상징후 탐지하는 시스템을 구축 
- 보안 문제가 발생했을 때를 대비하여 대응 계획을 마련 
2. 불충분한 인증 ![ref3]

5\.2.1. 취약점 개념 설명 

불충분한 인증은 중요 정보 페이지에 대한 인증 절차가 불충분할 경우 발생하는 취약점으로 권한이 없는 사용자가 중요 정보 페이지에 접근하여 정보를 유출하거나 변조할 수 있습니다. 

5\.2.2.취약점 점검 

|서비스 위치 |[HOME]  -> [로그인] |
| - | - |
|서비스 URL |http://61.39.155.24:50019/kisec/member/login.html |

로그인을 하고나서 중요 정보(개인정보 변경 ) 페이지에 접근하여 추가적인 인증(2차인증)이 없는 것을 확인하였습니다. 

5-.-22.복단3 잡계대한응인 비증방밀안또번는호다를중요인구증하요고소, 주를기통적해으사로용변자경가하여도러록  단정계책의을  인시증행 을 함. ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.026.jpeg)

신-- 세세원션션을 관타확리임를아웃통을해설사정용하자여의비세활션성을상안태전인하게경우관리자하동고으,로로로그그인아상웃태를 유지하는 동안에는 

- 로그를 통해 사용자 활동을 모니터링하고, 이상한 동작을 탐지 
- 시스템 및 라이브러리에 대한 보안 업데이트를 수행하고, 취약점에 대한 대응을 강화 
3. 약한 문자열 강도 ![ref3]
1. 취약점 개념 설명 

약한 문자열 강도는 사용자 ID, 비밀번호, 신용카드 정보 등이 반복되는 패턴을 가지고 있거나 추측하기 용이한 문자열로 구성되어 있어 예측, 무차별 대입 공격, 사전 대입 공격 등으로 탈취가 발생하는 취약점입니다. 

2. 취약점 점검 

|서비스 위치 |[HOME]  -> [마이페이지]  -> [회원정보수정]  -> [비밀번호 설정] |
| - | - |
|서비스 URL |http://61.39.155.24:50019/kisec/mypage/mypage\_m\_update.html |

약한 문자열의 강도를 가진 “ 회원정보수정 > 비밀번호 변경 “ 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.027.jpeg)

5\.3.3 대응 방안 

- 복잡한 비밀번호를 요구하고, 최소한의 길이와 다양한 문자를 포함하도록 정책을 수립 
- 비밀번호 변경 주기를 설정하여 정기적으로 변경할 수 있게 정책을 수립 
- 이전에 사용했던 비밀번호를 재사용할 수 없도록 정책을 수립 
- 다중 인증 요소를 활성화하여 추가적인 보안 레이어를 제공 
- 사용자에게 강력한 비밀번호의 중요성을 알리는 알림 사용 또는 경고 메시지를 표시 
4. 버퍼 오버플로우 ![ref3]
1. 취약점 개념 설명 

버퍼 오버플로우는 웹 사이트에서 사용자가 입력한 파라미터 값의 문자열 길이를 제한하지 않는 경우 개발 시에 할당된 저장 공간보다 더 큰 값의 입력이 가능하고 이로 인한 오류 발생 시 의도되지 않은 정보 노출, 프로그램에 대한 비인가 접근 및 사용 등이 발생할 수 있습니다. 

2. 취약점 점검 

|서비스 위치 |[HOME]  -> [로그인] |
| - | - |
|서비스 URL |http://61.39.155.24:50019/kisec/member/login.html |

ID와 PW를 입력하는 부분에 회원가입된 ID와 PW가 아니라 대량의 문자열을 입력했을 때 로그인이 되는 현상이 나타납니다. 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.028.png)

5\.4.3 대응 방안 

- 웹서버 웹 애플리케이션 서버 버전을 안전성이 검증된 최신 버전으로 패치 
- 웹 애플리케이션에 전달되는 파라미터 값을 필요한 크기만큼만 받을 수 있도록 변경하고 입력 값 범위를 초과한 경우에도 에러페이지를 반환하지 않도록 설정 
- 동적 메모리 할당을 위해 크기를 사용하는 경우 그 값이 음수가 아닌지 검사하여 버퍼 

  오버플로우를 예방하는 형태로 소스 코드 변경 

- 버퍼오버플로우를 점검하는 웹 스캐닝 툴을 이용 및 주기적으로 점검 ![ref1]
5. SQL Injection 
1. 취약점 개념 설명 

SQL Injection은 웹 사이트의 보안상 허점을 이용해 특정 SQL 쿼리문을 전송하여 공격자가 원하는 데이터베이스의 중요한 정보를 가져오기 위해 일반적인 값 외에 악의적인 의도를 갖는 구문을 삽입하여 공격자가 원하는 SQL쿼리문을 실행하는 기법이다. 

클라이언트가 입력한 데이터를 제대로 필터링하지 못하는 경우에 발생하고 공격의 쉬운 난이도에 비해 피해가 큽니다. 

공격 종류는 인증우회, 데이터 노출, 원격명령 실행이 있다. 

2. 취약점 점검 

|서비스 위치 |[HOME]  -> [로그인] -> [1:1 문의] [HOME] -> [과정안내/신청] -> [공지사항] |
| - | :- |
|서비스 URL |<p>[http://61.39.155.24:50019/kisec/mypage/mypage_mtm_register.htm](http://61.39.155.24:50019/kisec/mypage/mypage_mtm_register.html) [ l](http://61.39.155.24:50019/kisec/mypage/mypage_mtm_register.html) </p><p>http://61.39.155.24:50019/kisec/dataRoom/notice.html </p>|

[HOME]  -> [로그인] -> [1:1 문의] 

1:1 문의에서 파라미터 idx값 뒤에 쿼리문을 추가하여 조작 하였습니다.  ‘and+’1’=2’일 경우 참이므로 게시글 수정 불가합니다. 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.029.png)

` `‘and+’1’=1’일 경우 참이므로 게시글 수정 가능합니다. 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.030.png)

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.031.png)

` `idx 값이 312’+and+’1’=’1일 경우에는 게시글이 수정되었습니다. 

[HOME] -> [과정안내/신청] -> [공지사항] 

커뮤니티에 있는 모든 검색창에 ‘ or 1=1 --을 입력하였습니다. 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.032.jpeg)

SQL Error가 반환되었습니다. 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.033.png)

입력값을 어떤 방식으로 보내나 확인하니 GET 방식을 이용하여 값을 보낸다. 

SQLMAP 도구에서  URL을 이용하여 데이터베이스 목록, 테이블 목록, 원하는 목록 내용을 덤프가하여 관리자 ID와 PW 정보확인이 가능해졌습니다. 

SQLMAP 도구를 이용하여 관리자 ID와 PW 정보를 찾아내는 방법을 순서대로 나열해보았습니다. 

1\.DB 정보값 추출하기위한 명령어 입력 및 결과입니다. ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.034.png)

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.035.png)

2. 타겟 DB sukisec에 테이블 추출하기 위한 명령어 입력 및 결과입니다. ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.036.png)

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.037.jpeg) ![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.038.png)

3. 타겟 hm\_admin\_tb안에 Coloums 추출한 결과입니다. 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.039.png)

4. 내부 데이터 추출하기위한 명령어입력 및 결과입니다. 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.040.png)

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.041.png)

admin\_pass가 MD5해시로 암호화되어있어 복호화 한 결과입니다. 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.042.jpeg)

5. 추출한 정보를  통해 관리자 페이지 접속 성공하였습니다. 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.043.jpeg)

5\.5.3 대응 방안 

- 매개변수를 사용하여 SQL 쿼리를 구성하면 입력값이 직접 쿼리에 포함되지 않아 SQL Injection 공격을 방지 가능 
- 사용자 입력을 검증하여 유효한 값인지 확인 
- 데이터베이스 계정에 최소한의 권한만 부여하고, 필요한 작업만 수행할 수 있도록 제한 
- 에러 메시지가 SQL 오류 내용을 포함하지 않도록 설정 
- 웹 방화벽과 보안을 강화하는데 도움이 되는 프레임워크나 라이브러리를 사용 
- 선처리 질의문 이용 및 확장 프로시저 제거 
- 문자열 필터링 및 길이제한 
6. 크로스 사이트 스크립팅(XSS) ![ref3]
1. 취약점 개념 설명 

Cross-Site Scripting의 약어로, 공격자가 공격하려는 웹사이트에 스크립트를 삽입하여 사용자의 웹 브라우저에서 해당 코드가 실행되도록 하는 공격기법입니다. 따라서 사용자가 의도하지 않은 행동을 수행시키거나, 쿠키나 세션 토큰 등의 민감한 정보를 탈취하여 세션 하이재킹(Session Hijacking) 공격으로 악용될 수 있습니다. 

2. 취약점 점검 

|서비스 위치 |[HOME]  -> [로그인] -> [1:1 문의] |
| - | - |
|서비스 URL |<http://61.39.155.24:50019/kisec/mypage/mypage_mtm_register.htm> |

XSS 취약점을 확인하기 위해 

1:1 문의내용 안에 <script>alert(1)</script>을 입력했습니다. 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.044.jpeg)

스되크었립습트니를다.작성한 문의를 클릭하면 스크립트가 실행되어 XSS공격이 가능하다는것을 알게 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.045.png)

스크립트가 실행되는것을 알고있기 때문에 

쿠키값을 알아내기위해 문의 내용에 <script>alert(document.cookie)</script>을 작성했습니다. 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.046.jpeg)

작성한 문서를 클릭한 결과 쿠키정보 및 세션ID 획득하였습니다. 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.047.jpeg)

5\.6.3 대응 방안 

- 사용자 입력을 검증하고, 특수 문자를 이스케이프하여 브라우저에서 코드가 삽입/실행되지 

않도록 함 

- 웹 방화벽(WAF, Web Application Firewall)을 사용하여 비정상적인 데이터가 전송을 차단 
- 특정 태그를 막는 Blacklist  방식 작성 
- 문자열 길이 제한 

**-  **18**  -** 
한국정보보호센터 홈페이지 취약점 진단 보고서 

7. 디렉터리 인덱싱 ![ref3]

5\.7.1. 

웹 어플리케이션을 사용하고 있는 서버의 미흡한 설정으로 인해 인덱싱 기능이 활성화 되어 있을 경우, 공격자가 강제 브라우징을 통해 서버내의 모든 디렉터리 및 파일에 대해 인덱싱이 가능하여 웹 어플리케이션 및 서버의 주요 정보가 노출될 수 있는 취약점 입니다. 

5\.7.2.  취약점 점검 

|서비스 위치 |[HOME] -> [커뮤니티 ] -> [공지사항 ] -> [1번 게시글]  -> test.txt download |
| - | :-: |
|서비스 URL |http://61.39.155.24:50019/\_core/ |

게시글에서 test.txt 파일을 다운로드하면 \_download.php가 작동하는데 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.048.png)

이htt때p:/ /경61로.3가9.1/k5i5s.e2c4이:5 0아01닌9/\_/\_cocorere로인접것속을해확보인니하디였렉고터, 리 인덱싱 취약점이 발견되었습니다. 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.049.jpeg)

5\.7.3 대응 방안 

- 아파치(Apache) 웹서버 설정:Apache 설정 파일인 Httpd.conf 파일에서 DocumentRoot 항목의 Options에서 Indexes를 제거 
- 윈도우용 웹서버(IIS) 설정: 설정->제어판->관리도구->인터넷 서비스관리자 를 선택 후 웹사이트에 오른쪽 클릭 후 등록정보의 [홈 디렉토리] 탭에서 [디렉토리 검색] 체크를 해제 
8. 파일 다운로드 취약점 ![ref3]
1. 취약점 개념 설명 

파일 다운로드 기능이 존재하는 웹에서 파일 다운로드 시 파일의 경로 및 파일명을 파라미터로 받아 처리하는 경우 이를 적절히 필터링 하지 않으면 공격자가 이를 조작하여 허용되지 않은 파일을 다운 받을 수 있고 임의의 위치에 있는 파일을 열람하거나 다운받는 것을 가능하게 하는 취약점입니다. 

2. 취약점 점검 

|서비스 위치 |[HOME] -> [과정안내/신청] -> [ f-NGS Lab ] |
| - | - |
|서비스 URL |http://61.39.155.24:50019/\_core/ |

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.050.png)

파일 다운로드 요청 시 기존 file\_url을  ../../../../../../../../../../etc로 변경하고 file\_name을 passwd로 변경할 경우 허용된 경로 외 다른 경로에 있는 /etc/passwd에 접근이 가능해졌습니다. 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.051.jpeg)

5\.8.3 대응 방안 

- 파일명과 경로명을 DB에서 관리하며, 경로 조작 관련 문자들을 필터링 로직 구현 
- 다운로드 시 권한 체크 
- 파일 업로드, 다운로드 모두 조치가 이루어져야 하고 DB테이블 수정 필요 
9. 불충분한 세션만료 ![ref3]
1. 취약점 개념 설명 

세션의 만료기간을 정하지 않거나, 만료일자를 너무 길게 설정하여 공격자가 만료되지 않은 세션 활용이 가능하게 하는 취약점으로, 세션만료는 사용자 인증 후 웹사이트 내에서 이벤트 없이 일정시간이 경과하면, 임의로 세션을 종료시켜 서비스 접근을 제한하는 기능으로, 특히 공개된 장소에서 사용자가 오랜 시간 자리를 비우는 경우에는 타 사용자에 의한 침해를 방지하기 위해서 필요합니다. 

2. 취약점 점검 

|서비스 위치 |[HOME] -> [로그인] -> [나의 강의실] |
| - | - |
|서비스 URL |http://61.39.155.24:50019/kisec/mypage/mypage\_classroom.html |

세션 시간을 정하지 않거나, 만료 시간을 너무 길게 설정한 경우 악의적인 사용자가 만료되지 않은 세션을 활용하여 불법적인 접근이 가능할 수 있기 때문에 세션 시간을 확인하여야 합니다. 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.052.jpeg)

세션 시간 확인 결과 세션 시간을 정하지 않았으므로 취약점을 발견하였습니다. 5.9.3 대응 방안 

- Session Timeout 설정으로 일정시간(권장 10분~30분 사이) 요청이 없을 경우, 자동 로그아웃 되도록 구현 
- 중요 정보 페이지는 캐시를 사용하지 못하도록 설정 
10. 자동화 공격 ![ref3]
1. 취약점 개념 설명 

웹 어플리케이션에 정해진 프로세스에 자동화된 공격을 수행함으로써 자동으로 수많은 프로세스가 진행되는 취약점입니다. 예를 들어 게시판의 글을 많이 남겨 정상적인 기능을 하지 못하도록 공격하는 것이며 이 공격이 반복된다면 데이터베이스의 용량이 부족하여 서버의 과부하가 발생할 수도 있습니다. 

2. 취약점 점검 

|서비스 위치 |[HOME] -> [로그인] -> [1:1 문의] |
| - | - |
|서비스 URL |http://61.39.155.24:50019/kisec/mypage/mypage\_mtm\_list.html |

반복적인 동작 자동화 기능을 통해 서버에 부하를 줄 수 있습니다. 이 사이트의 경우 게시판에 자동화 공격으로 같은 글 작성을 반복적으로 함으로서 게시판의 데이터량을 증가 시킬 수 있으며 공격이 반복된다면 데이터베이스의 사이즈가 커져 서버의 과부하가 발생할 수 있습니다. 

![](Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.053.jpeg)

위와 같이 ‘123’ 제목의 글이 자동화 공격에 의해 반복적으로 등록된 것을 볼 수 있습니다. 5.10.3 대응 방안 

- 데이터 등록이 일회성이 될 수 있도록 별도의 확인값을 추가 
- 짧은 시간에 다량의 패킷량이 전송되므로 공격으로 방어 할 수 있는 IDS/IPS 시스템을 구축 
- Captcha (캡챠) 사용 
**-  **24**  -** 

[ref1]: Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.006.png
[ref2]: Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.014.png
[ref3]: Aspose.Words.008069bb-b95f-4f97-8c6d-fd2e5e1c7772.025.png
